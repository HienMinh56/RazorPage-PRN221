@page
@model SaleWebApp.Pages.MemberPage.Profile.ProfileModel
@{
    var userRole = ViewContext.HttpContext.Session.GetString("UserRole");
}
@if (userRole == "Member")
{
    <h1>User Profile</h1>

    @if (Model.Member != null)
    {
        <p>Welcome, <strong>@Model.Member.Email</strong>!</p>

        <h3>User Details</h3>
        <hr />
        <dl class="row">
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Member.Email)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Member.Email)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Member.CompanyName)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Member.CompanyName)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Member.City)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Member.City)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Member.Country)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Member.Country)
            </dd>
        </dl>
    }
    else
    {
        <p>User details not found.</p>
    }
    <div>
        <a asp-page="./Edit" asp-route-id="@Model.Member?.MemberId">Edit</a> |
    </div>
}
else
{
    <h1>Access Denied</h1>
    <p>You do not have permission to access this page.</p>
    <form method="post" asp-page="/Login" asp-page-handler="Logout">
        <button type="submit">Logout</button>
    </form>
}
